# $\quad\quad$重庆市育才中学2022年 联合模拟

### $\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad2022.3.20$

$\quad\quad \quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad$**所有题均需文件输入输出**



|      题目名称      |    糖果     |   三角形    |    咖啡店    |    宝石     |    好鸽们     |
| :----------------: | :---------: | :---------: | :----------: | :---------: | :-----------: |
| **输入输出文件名** | $\rm candy$ | $\rm feet$  | $\rm coffee$ |  $\rm gem$  | $\rm 2knight$ |
|    **时间限制**    |  $\rm 1s$   |  $\rm 1s$   |   $\rm1s$    |  $\rm 2s$   |   $\rm 1s$    |
|    **空间限制**    | $\rm 512MB$ | $\rm 512MB$ | $\rm 512MB$  | $\rm 512MB$ |  $\rm 512MB$  |
|   **测试点数目**   |    ----     |    ----     |     ----     |    ----     |     ----      |

 **某些题时限较大，知道自己过不了的数据请 return 0，加速评测进程**









































## 糖果（candy）

笑笑有一些糖果。每一天，笑笑都会吃掉剩余糖果总数的一半多一颗(除了最后一天，其它天保证剩余糖果为偶数）。一定天数后，笑笑发现，剩下的糖果数量恰好是他的幸运数字 $x$。现在，笑笑会进行 $q$ 次提问，每一次提问笑笑都会告诉你吃糖的总天数 $n$ 。你能算出笑笑原来一共有多少颗糖果吗？

### 【输入格式】

第一行有一个整数 $q$，表示询问的数量。

第二行有一个整数 $x$ ，表示笑笑的幸运数字。

第三行有由一个空格分隔的 $q$ 个整数，表示吃糖的总天数。

### 【输出格式】

一行 $q$ 个由单个空格分隔的整数，表示笑笑原来一共有多少颗糖果。每一个答案都要对 $10007$ 取模后输出。

### 【样例 1 】

```
3
1
3 2 1
```

```
22 10 4
```

### 【样例 2 】

```
3
7
300 200 100
```

```
8152 9100 2051
```

### 【数据范围】

对于 $40\%$ 的数据，$1 ≤ q ≤ 10, 1 ≤ x ≤ 10, 1 ≤ n ≤ 10$；

对于 $80\%$ 的数据，$1 ≤ q ≤ 100000, 1 ≤ x ≤ 10, 1 ≤ n ≤ 100000$；

对于 $100\%$ 的数据，$1 ≤ q ≤ 100000, 1 ≤ x ≤ 10, 1 ≤ n ≤10^9$.















## 三角形（feet）

平面直角坐标系中有 $N$ 个点。 写一个程序计算有多少种方法来选取 $N$ 个点中的3个，使得他们组成一个直角三角形，且两条直角边平行（或垂直）于坐标轴。

### 【输入格式】

第一行是一个整数 $N$。 接下来 $N$ 行每行两个整数 $X, Y$，表示 $N$ 个点的坐标。 保证没有重合的点。

### 【输出格式】

输出三角形的数目。

### 【样例 1 】

```
5 
1 2 
2 1 
2 2 
2 3 
3 2
```

```
4
```

### 【样例 2 】

```
6 
10 10 
20 10 
10 20 
20 20 
30 20 
30 30
```

```
8
```

### 【数据范围】

$40\%$ 的数据中，$3 \le N \le 100$

$70\%$ 的数据中，$3 \le N \le 10000$

$100\%$ 的数据中，$3 \le N \le 100000$，$1 \le X,Y \le 100000$















## 咖啡店（coffee）

武昌大道的拐角咖啡厅一直很受群众的喜爱，特别是老板娘。为了更好地让客户享受休闲时光而开发出的一项一项的趣味游戏，迷魂转台就是最新的一个。

游戏是这样子的，有 $N$ 个客人按照给定的顺序排队，每次可以指定一部分人上迷魂转台，每个人会拿到 $S$ 杯咖啡，喝咖啡的过程中，每个人的速度是不一样的，当一组上转台的人中最慢的人喝完了咖啡，就轮到接下来排队的组来进行游戏。

不幸的是，迷魂转台有一定的重量限制 $W$ ，每个客人的重量 $Q$ 是不同的，每次上转台的人的重量和不能超过 $W$ 。

现在，你和你的朋友共 $N$ 位来到了咖啡厅进行这个游戏，如果你能巧妙地在给定的顺序下安排分组，在总时间最短的情况下通过迷魂转台，那么你的咖啡钱就不要算了！否则，你就必须付所喝咖啡的双倍价钱。

老板娘手中捧着不灭的萤火，露出善意的微笑，期待着的你的表现。

### 【输入格式】

第一行，共三个数  $W ,S ,N$

接下来 $N$ 行，按给定顺序，每行两个数 $Q_i$ 和 $V_i,Q_i$ 是重量，$V_i$ 是喝咖啡的速度（杯/$s$）

### 【输出格式】

仅一行，代表 最短的时间（$s$），精确到小数点后两位。

### 【样例 1 】

```
800 300 4
53 5.0
59 3.0
38 2.0
69 2.0
```

```
150.00
```



### 【数据范围】

$20\%$ $n <= 15$

$100\%$ $n <= 2000,W,S\leq 32767$

$Q\leq W$











## 宝石（gem）

有 $n$ 个宝石，标号为 $1 \sim n$ 。第 $i$ 个宝石的颜色是 $c_i$，价值是 $v_i$ 。

你需要支持两种操作：

• $1$ $x$ $c$ $v$ ，将 $x$ 这个宝石的颜色和价值换成 $c$ 和 $v$

• $2$ $s$ $k$ ，从 $s$ 位置开始取宝石，每次可以取或跳过这个宝石，然后继续考虑下一个或者结束。要求跳过的宝石不能超过 $k$ 个，并且取的宝石颜色两两不同，并且价值最大。

### 【输入格式】

输入的第一行为 $n, m$ 。

接下来 $n$ 行，每行两个整数 $c_i$ , $v_i$ $(1 \le c_i \le n, 1 \le v_i \le 10^{9} )$。

接下来 $m$ 行，每行一个上述操作，保证 $1 \le x, c, s \le n, 1 \le v \le 10^{9} $ 。

### 【输出格式】

对于每个查询操作输出答案。

### 【样例】

见选手目录下的 $ \rm gem1/gem2.in$ 与 $ \rm gem1/gem2.ans$。 

### 【数据范围】

本题不采用子任务评测。

对于 $15\%$ 的数据，有 $n, m \le 100$。

对于 $30\%$ 的数据，有 $n, m \le 1000$。

对于 $55\%$ 的数据，有 $n, m \le 50000$。

另有 $15\%$ 的数据，有 $k = 0$。

对于 $100\%$ 的数据，有 $1 \le n, m \le 2 \times 10^{5} , 0 \le k \le 10$。

请注意常数因子带来的影响。





















## 好鸽们（2knight）

这是一个 $N$ 个城市 $M$ 条无向道路的国家。

这个国家有两个骑士，他们关系很好，现在他们分别被要求沿最短路从 $X1$ 走到 $Y1$ ，从 $X2$ 走到 $Y2$ ，他们希望两条路径的公共部分最长。

### 【输入格式】

第一行两个数 $N,M$ 表示城市数和道路数。

第二行四个数 $X1,Y1,X2,Y2$，意义如上所述。

接下来 $M$ 行，每行 $3$ 个数 $A,B,C$ 表示 $A,B$ 间有一条长度为 $C$ 的路。

### 【输出格式】

输出 $X1$ 到 $Y1$ ，$X2$ 到 $Y2$ 的最短路的公共部分最长。

### 【样例 1 】

```
9 10
1 6 7 8
1 2 1
2 5 2
2 3 3
3 4 2
3 9 5
4 5 3
4 6 4
4 7 2
5 8 1
7 9 1
```

```
3
```



### 【数据范围】

对于 $30\%$ 的数据，$N ≤ 100$；

对于 $60\%$ 的数据，$N ≤ 1000$；

对于 $100\%$ 的数据，$N ≤ 1500$，$M <= 3000，1 <= A,B <= N, 1 <= C <= 10000$，输入数据保证没有重边和自环。

